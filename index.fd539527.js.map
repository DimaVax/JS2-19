{"mappings":"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","sources":["<anon>","src/index.js","src/js/services/get-movies-API.js","src/js/make-markup.js","src/js/delete-movie.js","src/js/services/delete-movie-API.js","src/js/modal/switch-modal.js","src/js/modal/get-data-from-modal.js","src/js/services/add-movie-API.js","src/js/modal/switch-edit-modal.js","src/js/services/edit-movie-API.js"],"sourcesContent":["const $06cb297311731377$var$list = document.querySelector('.movies-list');\nconst $06cb297311731377$export$59302306c6f78677 = (data)=>{\n    console.log(data);\n    data.forEach((movie)=>{\n        const item = `<li class=\"movie-item\" id=\"${movie.id}\">\n            <h2 class=\"movie-title\">Title: ${movie.title}</h2>\n            <div class=\"movie-info\">\n                <p class=\"movie-genre\">Genre: ${movie.genre}</p>\n                <p class=\"movie-year\">Year of movie: ${movie.year}</p>\n                <p class=\"movie-year\">Director: ${movie.director}</p>\n            </div>\n            <div class=\"server-btns\">\n                <button class=\"server-btn delete-btn\" type=\"button\">delete</button>\n                <button class=\"server-btn edit-btn\" type=\"button\">edit</button>\n            </div>\n        </li>`;\n        $06cb297311731377$var$list.insertAdjacentHTML(\"beforeend\", item);\n    });\n};\n\n\nconst $5e3c6f433f8fceb9$export$8e95843d9326c8c9 = async (id)=>{\n    try {\n        return await fetch(`https://67a762d3203008941f6774aa.mockapi.io/movies/movies/${id}`, {\n            method: \"DELETE\"\n        }).then((data)=>data.json());\n    } catch (error) {\n        console.log(error.message);\n    }\n// .then(() => {\n//     console.log('movie was deleted succesfuly')\n// })\n};\n\n\nconst $49e3b3ea80a79c25$export$730b1716cbcc3184 = (elem)=>{\n    if (elem.classList.contains(\"delete-btn\")) (0, $5e3c6f433f8fceb9$export$8e95843d9326c8c9)(elem.parentElement.parentElement.id).then((data)=>console.log(data)).catch((error)=>{\n        console.log(error.message);\n    });\n};\n\n\nconst $850276dea0cf2704$export$60e1c8f5f122c5ac = async ()=>{\n    try {\n        return await fetch('https://67a762d3203008941f6774aa.mockapi.io/movies/movies').then((data)=>data.json());\n    } catch (error) {\n        console.log(error.message);\n    }\n};\n$850276dea0cf2704$export$60e1c8f5f122c5ac().then((data)=>{\n    (0, $06cb297311731377$export$59302306c6f78677)(data);\n    document.addEventListener(\"click\", (e)=>{\n        const elem = e.target;\n        (0, $49e3b3ea80a79c25$export$730b1716cbcc3184)(elem);\n    });\n});\n\n\n\nconst $cc9b6bc3b4ba9073$var$backdrop = document.querySelector('.backdrop');\nconst $cc9b6bc3b4ba9073$var$openBtn = document.querySelector('.add-button');\nconst $cc9b6bc3b4ba9073$var$closeBtn = document.querySelector('.close');\n$cc9b6bc3b4ba9073$var$openBtn.addEventListener('click', (e)=>{\n    e.preventDefault();\n    $cc9b6bc3b4ba9073$var$backdrop.classList.remove('is-hidden');\n});\n$cc9b6bc3b4ba9073$var$closeBtn.addEventListener('click', ()=>{\n    $cc9b6bc3b4ba9073$var$backdrop.classList.add('is-hidden');\n});\n\n\nconst $f1e3d39f87a57e6b$export$12732034f5b2fbe6 = async (title, genre, year, director)=>{\n    try {\n        const options = {\n            method: \"POST\",\n            body: JSON.stringify({\n                title: title,\n                genre: genre,\n                year: year,\n                director: director\n            }),\n            headers: {\n                \"Content-Type\": \"application/json; charset=UTF-8\"\n            }\n        };\n        return await fetch(\"https://67a762d3203008941f6774aa.mockapi.io/movies/movies\", options).then((data)=>data.json()).then((data)=>data);\n    } catch  {\n        (error)=>console.log(error.message);\n    }\n}; // sendBtn.addEventListener(\"click\", (e) => {\n //   e.preventDefault()\n // const addData = getData();\n // console.log(addData);\n // });\n\n\nconst $2009ea79a04ef556$var$form = document.querySelector(\".edit-modal__form\");\n$2009ea79a04ef556$var$form.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    (0, $f1e3d39f87a57e6b$export$12732034f5b2fbe6)($2009ea79a04ef556$var$form.elements.edit - title.value, $2009ea79a04ef556$var$form.elements.edit - genre.value, $2009ea79a04ef556$var$form.elements.edit - year.value, $2009ea79a04ef556$var$form.elements.edit - director.value);\n});\n\n\n\n\n\nconst $afb03aa6171818ff$export$c11c13e9377342a0 = async (title, genre, year, director, id)=>{\n    try {\n        return await fetch(`https://67a762d3203008941f6774aa.mockapi.io/movies/movies/${id}`, {\n            method: \"PUT\",\n            body: JSON.stringify({\n                title: title,\n                genre: genre,\n                year: year,\n                director: director\n            }),\n            headers: {\n                \"Content-Type\": \"application/json; charset=UTF-8\"\n            }\n        }).then((data)=>data.json());\n    } catch (error) {\n        console.log(error.message);\n    }\n};\n\n\nconst $6823bc4e124777af$var$backdrop = document.querySelector('.edit-backdrop');\nlet $6823bc4e124777af$var$parentId;\ndocument.addEventListener('click', (e)=>{\n    if (e.target.classList.contains('edit-btn')) {\n        $6823bc4e124777af$var$parentId = e.target.parentElement.parentElement.id;\n        $6823bc4e124777af$var$backdrop.classList.remove('is-hidden');\n    }\n});\ndocument.addEventListener('click', (e)=>{\n    if (e.target.classList.contains('edit-close')) $6823bc4e124777af$var$backdrop.classList.add('is-hidden');\n});\nconst $6823bc4e124777af$var$form = document.querySelector(\".edit-modal__form\");\n$6823bc4e124777af$var$form.addEventListener(\"submit\", (e)=>{\n    (0, $afb03aa6171818ff$export$c11c13e9377342a0)($6823bc4e124777af$var$form.elements.title.value, $6823bc4e124777af$var$form.elements.genre.value, $6823bc4e124777af$var$form.elements.year.value, $6823bc4e124777af$var$form.elements.director.value, $6823bc4e124777af$var$parentId);\n});\n\n\n\n\n//# sourceMappingURL=index.fd539527.js.map\n","import './js/services/get-movies-API';\r\nimport './js/make-markup';\r\nimport './js/modal/switch-modal';\r\nimport './js/modal/get-data-from-modal';\r\nimport './js/services/add-movie-API';\r\nimport './js/services/delete-movie-API';\r\nimport './js/delete-movie';\r\nimport './js/modal/switch-edit-modal';\r\n","import { makeMarkup } from \"../make-markup.js\";\r\nimport { deleteMovie } from \"../delete-movie\";\r\n\r\nexport const getMovies = async () => {\r\n    try {\r\n    return await fetch('https://67a762d3203008941f6774aa.mockapi.io/movies/movies').then((data) => data.json());\r\n    }\r\n    catch(error) {console.log(error.message)}\r\n};\r\ngetMovies().then((data) => {\r\n    makeMarkup(data);\r\n    document.addEventListener(\"click\", (e) => {\r\n        const elem = e.target\r\n        deleteMovie(elem);\r\n\r\n    })\r\n});\r\n","\r\n\r\nconst list = document.querySelector('.movies-list');\r\n\r\nexport const makeMarkup = (data) => {\r\n    console.log(data);\r\n    data.forEach(movie => {\r\n        const item = `<li class=\"movie-item\" id=\"${movie.id}\">\r\n            <h2 class=\"movie-title\">Title: ${movie.title}</h2>\r\n            <div class=\"movie-info\">\r\n                <p class=\"movie-genre\">Genre: ${movie.genre}</p>\r\n                <p class=\"movie-year\">Year of movie: ${movie.year}</p>\r\n                <p class=\"movie-year\">Director: ${movie.director}</p>\r\n            </div>\r\n            <div class=\"server-btns\">\r\n                <button class=\"server-btn delete-btn\" type=\"button\">delete</button>\r\n                <button class=\"server-btn edit-btn\" type=\"button\">edit</button>\r\n            </div>\r\n        </li>`;\r\n        list.insertAdjacentHTML(\"beforeend\", item)\r\n    });\r\n};\r\n","import { deleteMovieAPI } from \"./services/delete-movie-API\";\r\n\r\nexport const deleteMovie = (elem) => {\r\n    \r\n    if (elem.classList.contains(\"delete-btn\")) {\r\n      deleteMovieAPI(elem.parentElement.parentElement.id).then(data => console.log(data)).catch((error) => {\r\n        console.log(error.message)\r\n    });\r\n    }\r\n};\r\n\r\n\r\n","export const deleteMovieAPI = async (id) => {\r\n    try{\r\n        return await fetch(`https://67a762d3203008941f6774aa.mockapi.io/movies/movies/${id}`, {\r\n        method: \"DELETE\",\r\n        }).then((data) => data.json())\r\n    }\r\n    catch(error){\r\n        console.log(error.message)\r\n    }\r\n    // .then(() => {\r\n    //     console.log('movie was deleted succesfuly')\r\n    // })\r\n    \r\n}","const backdrop = document.querySelector('.backdrop');\r\nconst openBtn = document.querySelector('.add-button');\r\nconst closeBtn = document.querySelector('.close');\r\n\r\nopenBtn.addEventListener('click', (e) => {\r\n    e.preventDefault()\r\n    backdrop.classList.remove('is-hidden')\r\n});\r\ncloseBtn.addEventListener('click', () => {\r\n    backdrop.classList.add('is-hidden')\r\n})\r\n","import { addDataAPI } from \"../services/add-movie-API\";\r\n\r\nconst form = document.querySelector(\".edit-modal__form\");\r\n\r\n\r\n\r\n  form.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault()\r\n    addDataAPI(form.elements.edit-title.value, form.elements.edit-genre.value, form.elements.edit-year.value, form.elements.edit-director.value);\r\n    \r\n  });\r\n","export const addDataAPI = async (title, genre, year, director) => {\r\n  try{\r\n    const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify({\r\n      title: title,\r\n      genre: genre,\r\n      year: year,\r\n      director: director,\r\n    }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    }\r\n  };\r\n  return await fetch(\r\n    \"https://67a762d3203008941f6774aa.mockapi.io/movies/movies\",\r\n    options\r\n  )\r\n  .then((data) => data.json())\r\n    .then((data) => data)\r\n  }\r\n  \r\n    \r\n    catch{(error) => console.log(error.message)};\r\n};\r\n// sendBtn.addEventListener(\"click\", (e) => {\r\n//   e.preventDefault()\r\n// const addData = getData();\r\n// console.log(addData);\r\n\r\n// });\r\n","import { editMovieAPI } from \"../services/edit-movie-API\";\r\n\r\nconst backdrop = document.querySelector('.edit-backdrop');\r\n\r\nlet parentId\r\n\r\ndocument.addEventListener('click', (e) => {\r\n    if(e.target.classList.contains('edit-btn')){\r\n        parentId = e.target.parentElement.parentElement.id;\r\n        backdrop.classList.remove('is-hidden')\r\n    }\r\n});\r\n\r\ndocument.addEventListener('click', (e) => {\r\n    if(e.target.classList.contains('edit-close')){\r\n        backdrop.classList.add('is-hidden')\r\n    }\r\n})\r\n\r\nconst form = document.querySelector(\".edit-modal__form\");\r\n\r\n\r\n  form.addEventListener(\"submit\", (e) => {\r\n    editMovieAPI(form.elements.title.value, form.elements.genre.value, form.elements.year.value, form.elements.director.value, parentId);\r\n  });\r\n","export const editMovieAPI = async (title, genre, year, director, id) => {\r\n  try{\r\n    return await fetch(\r\n    `https://67a762d3203008941f6774aa.mockapi.io/movies/movies/${id}`,\r\n    {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({\r\n        title: title,\r\n        genre: genre,\r\n        year: year,\r\n        director: director,\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    }).then((data) => data.json())\r\n  }\r\n  catch(error){\r\n    console.log(error.message);\r\n  }\r\n};\r\n"],"names":["$6823bc4e124777af$var$parentId","$06cb297311731377$var$list","document","querySelector","$06cb297311731377$export$59302306c6f78677","data","console","log","forEach","movie","item","id","title","genre","year","director","insertAdjacentHTML","$5e3c6f433f8fceb9$export$8e95843d9326c8c9","fetch","method","then","json","error","message","$49e3b3ea80a79c25$export$730b1716cbcc3184","elem","classList","contains","parentElement","catch","$850276dea0cf2704$export$60e1c8f5f122c5ac","addEventListener","e","target","$cc9b6bc3b4ba9073$var$backdrop","$cc9b6bc3b4ba9073$var$openBtn","$cc9b6bc3b4ba9073$var$closeBtn","preventDefault","remove","add","$f1e3d39f87a57e6b$export$12732034f5b2fbe6","options","body","JSON","stringify","headers","$2009ea79a04ef556$var$form","elements","edit","value","$afb03aa6171818ff$export$c11c13e9377342a0","$6823bc4e124777af$var$backdrop","$6823bc4e124777af$var$form"],"version":3,"file":"index.fd539527.js.map"}